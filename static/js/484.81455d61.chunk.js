"use strict";(globalThis.webpackChunkcells_flasher_react=globalThis.webpackChunkcells_flasher_react||[]).push([[484],{609:(e,r,t)=>{t.d(r,{Z:()=>o});var n=t(836);var s=t(184);const l=["ArtFooterLayout_game-footer__9UWUd",n.Z["margin-top"]].join(" "),o=e=>{let{children:r}=e;return(0,s.jsx)("div",{className:l,children:r})}},368:(e,r,t)=>{t.d(r,{Z:()=>o});var n=t(836);var s=t(184);const l=["ArtMainLayout_game__4ojcY",n.Z["margin-top"]].join(" "),o=e=>{let{children:r}=e;return(0,s.jsx)("div",{className:l,children:r})}},389:(e,r,t)=>{t.d(r,{Z:()=>u});var n=t(791),s=t(434),l=t(87),o=t(836),a=t(30),i=t(934);const c="ArtRegisterer_dialog__7AlqE";var d=t(184);const u=()=>{const e=(0,s.v9)(a.S),[r,t]=(0,n.useState)(""),u=(0,l.qd)(),h=(0,n.useRef)(null),_=(0,n.useCallback)((e=>{t(e.target.value)}),[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.Z,{disabled:!e,onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.showModal()},children:"Register Art"}),(0,d.jsx)("dialog",{className:c,id:"dialog-form",ref:h,children:(0,d.jsxs)("form",{method:"post",onSubmit:e=>{var r;e.preventDefault(),u(e.currentTarget),null===(r=h.current)||void 0===r||r.close()},children:[(0,d.jsxs)("div",{children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"name",children:"Name:"}),(0,d.jsx)("input",{id:"name",name:"name",type:"text",required:!0,placeholder:"type any name for this pixel art",value:r,onChange:_})]}),(0,d.jsxs)("div",{className:o.Z["margin-top"],children:[(0,d.jsx)("label",{htmlFor:"description",children:"Description:"}),(0,d.jsx)("textarea",{id:"description",name:"description",placeholder:"type an optional description"})]})]}),(0,d.jsxs)("div",{className:o.Z["margin-top"],children:[(0,d.jsx)(i.Z,{type:"button",onClick:()=>{var e;return null===(e=h.current)||void 0===e?void 0:e.close()},children:"Cancel"}),(0,d.jsx)(i.Z,{type:"submit",children:"Validate Art"})]})]})})]})}},934:(e,r,t)=>{t.d(r,{Z:()=>l});const n="Button_button__JBBzO";var s=t(184);const l=e=>{let{children:r,...t}=e;return(0,s.jsx)("button",{className:n,...t,children:r})}},745:(e,r,t)=>{t.d(r,{Z:()=>d});var n=t(791),s=t(434),l=t(30),o=t(637),a=t(325),i=t(934),c=t(184);const d=e=>{let{resetAllCells:r=!0}=e;const t=(0,s.v9)(l.S),d=(0,s.I0)(),u=(0,n.useCallback)((()=>{d((0,l.QK)(!1)),d((0,o.Bh)()),r&&d((0,a.td)())}),[]);return(0,c.jsx)(i.Z,{disabled:!t,onClick:u,children:"Reset"})}},886:(e,r,t)=>{t.d(r,{n:()=>_,Z:()=>v});var n=t(791),s=t(434);const l={_check:(e,r)=>r[e[0]]===r[e[1]]&&r[e[1]]===r[e[2]]&&e,horizontal(e){let{i:r,cells:t}=e;const n=[r,r+1,r+2];return this._check(n,t)},vertical(e){let{i:r,cells_per_row:t,cells:n}=e;const s=[r,r+t,r+2*t];return this._check(s,n)},diagonalRight(e){let{i:r,cells_per_row:t,cells:n}=e;if(t-r%t<3)return!1;const s=[r,r+t+1,r+2*t+2];return this._check(s,n)},diagonalLeft(e){let{i:r,cells_per_row:t,cells:n}=e;if(r%t<2)return!1;const s=[r,r+t-1,r+2*t-2];return this._check(s,n)}},o=(e,r)=>{const t=[],n={i:0,cells:e,cells_per_row:r};return e.forEach(((e,r,s)=>{!e||r>=s.length-2||(n.i=r,[l.horizontal(n),l.vertical(n),l.diagonalRight(n),l.diagonalLeft(n)].forEach((e=>{e&&e.length&&t.push(e)})))})),t.flat()};var a=t(887),i=t(119),c=t(637),d=t(325);const u={cells:"CellsController_cells__tOX0j","player-x":"CellsController_player-x__Aau8H","player-o":"CellsController_player-o__MSW80","is--winner-move":"CellsController_is--winner-move__yF+Ky",flash:"CellsController_flash__750Kn"};var h=t(184);const _=e=>{let{cellsPerRow:r,forceCellsArray:t=null,isPlayable:l=!0}=e;const d=(0,s.oR)(),[_,v]=(0,n.useState)(t||(0,a.V)(r)),[x,m]=(0,n.useState)(!0),[p,g]=(0,n.useState)(t?Array.from(new Set(o(t,r))):[]),[j,f]=(0,n.useState)(!1),y=(0,s.I0)(),C=(0,n.useCallback)((e=>()=>{const{linesAreDrawn:t,countdownIsReached:n}=d.getState();if(!t||n||_[e])return;const s=[..._];s[e]=x?"x":"o";const l=o(s,r);g(Array.from(new Set([...p,...l]))),v(s),m(!x),y((0,i.q2)(s)),y((0,c.Bh)())}),[_]),w=(0,n.useCallback)(((e,r,t)=>{if(r){return[u[`player-${r}`],e.indexOf(t)>=0?u["is--winner-move"]:""].join(" ")}}),[]),Z={"--cells-per-row":r};return(0,h.jsx)("div",{style:Z,className:u.cells,...l&&{onPointerDown:()=>f(!0),onPointerUp:()=>f(!1),onPointerLeave:()=>f(!1)},children:_.map(((e,r)=>(0,h.jsx)("div",{className:w(p,e,r),key:r.toString(),...l&&{onPointerMove:j?C(r):void 0,onClick:C(r)},children:e})))})},v=()=>{const e=(0,s.v9)(i.pi),r=(0,s.v9)(d.$C);return(0,h.jsx)(_,{cellsPerRow:e},r+e)}},720:(e,r,t)=>{t.d(r,{Z:()=>x});var n=t(791),s=t(434),l=t(844);const o=(e,r)=>e[0]+r+e[1],a=e=>o`animation-delay: ${e}ms`,i=(e,r,t,n)=>{const s=t[e],o=n[e];if(e===r&&t.length%2!==0)return s.style.cssText=a(0),o.style.cssText=a(0),(0,l.D2)(t[e]),void(0,l.D2)(n[e]);const i=t[t.length-1-e],c=n[n.length-1-e],d=100*(r-e);s.style.cssText=a(d),i.style.cssText=a(d),o.style.cssText=a(d),c.style.cssText=a(d),(0,l.D2)(s),(0,l.D2)(i),(0,l.D2)(o),(0,l.D2)(c)};var c=t(119),d=t(409);const u={lines:"Lines_lines__xsbb6",horizontal:"Lines_horizontal__SgmyJ",draw_line:"Lines_draw_line__CHmCR",vertical:"Lines_vertical__WdV4h","no-animation":"Lines_no-animation__UhLB3"};var h=t(184);const _=[u.lines,u.vertical].join(" "),v=[u.lines,u.horizontal].join(" "),x=(0,n.memo)((e=>{let{shouldAnimate:r=!0,forceCellsPerRow:t=0}=e;const l=t||(0,s.v9)(c.pi),o=2*(l-1),a=(0,n.useRef)([]),x=(0,n.useRef)([]),m=(0,s.I0)(),p=(0,n.useCallback)(((e,r)=>{if(e){(a.current[r]?x.current:a.current).push(e)}}),[l]),g=()=>{m((0,d.TX)(!0))};return(0,n.useEffect)((()=>{if(r){if(a.current.length){const e=Math.floor(a.current.length/2);m((0,d.TX)(!1));for(let r=0;r<=e;r++)i(r,e,a.current,x.current)}a.current.length=0,x.current.length=0}}),[l]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:r?_:`${_} ${u["no-animation"]}`,children:Array.from({length:o/2},((e,t)=>(0,h.jsx)("div",{ref:r?e=>p(e,t):null,onAnimationEnd:0===t?g:void 0},t.toString())))}),(0,h.jsx)("div",{className:r?v:`${v} ${u["no-animation"]}`,children:Array.from({length:o/2},((e,t)=>(0,h.jsx)("div",{ref:r?e=>p(e,t):null},t.toString())))})]})}))},754:(e,r,t)=>{t.d(r,{Z:()=>v});var n=t(791),s=t(434),l=t(87),o=t(423),a=t(844),i=t(30),c=t(409),d=t(637);const u="Timer_svg__WBl-h",h="Timer_hidden__tlz+K";var _=t(184);const v=()=>{const e=(0,s.v9)(c.ZQ),r=(0,s.v9)(d.WS),t=(0,s.I0)(),v=(0,l.qd)(),x=(0,n.useRef)(null),m=u+(e?"":` ${h}`),p=()=>{const e=new FormData;e.append(o.Fz,""),v(e,{method:"post"}),t((0,i.QK)(!0))};return(0,n.useEffect)((()=>{var r;((0,a.hC)(x.current),e)&&(null===(r=x.current)||void 0===r||r.addEventListener("animationend",p),t((0,i.QK)(!1)),(0,a.D2)(x.current));return()=>{var e;return null===(e=x.current)||void 0===e?void 0:e.removeEventListener("animationend",p)}}),[r,e]),(0,_.jsx)("svg",{className:m,width:"60px",height:"60px",viewBox:"0 0 60 60",xmlns:"http://www.w3.org/2000/svg",children:(0,_.jsx)("circle",{ref:x,cx:"30",cy:"30",r:"28",pathLength:"1",stroke:"currentColor",strokeLinecap:"round",strokeWidth:"4px",strokeDasharray:"1",strokeDashoffset:"1",fill:"none"})})}},149:(e,r,t)=>{t.d(r,{Z:()=>a});var n=t(791),s=t(844);const l={toast:"ToastMessage_toast__hy1BO",slideUp:"ToastMessage_slideUp__g5bH0",success:"ToastMessage_success__ZwIRW",error:"ToastMessage_error__1aR33"};var o=t(184);const a=e=>{let{type:r,text:t}=e;const a=(0,n.useRef)(null);return(0,n.useEffect)((()=>{(0,s.D2)(a.current)}),[r,t]),(0,o.jsx)("div",{ref:a,className:`${l.toast} ${l[r]}`,children:t})}},844:(e,r,t)=>{t.d(r,{D2:()=>s,hC:()=>l});const n=e=>{var r;if(e)return null===(r=e.getAnimations())||void 0===r?void 0:r[0]},s=e=>{const r=n(e);null===r||void 0===r||r.cancel(),null===r||void 0===r||r.play()},l=e=>{const r=n(e);null===r||void 0===r||r.pause()}},484:(e,r,t)=>{t.r(r),t.d(r,{default:()=>C});var n=t(689),s=t(609),l=t(368),o=t(389),a=t(745),i=t(886),c=t(791),d=t(434),u=t(423),h=t(119),_=t(30);const v="InputCellsCount_input-range__9ItLt";var x=t(184);const m=()=>{const e=(0,d.v9)(h.pi),[r,t]=(0,c.useState)(`${e}`),n=(0,d.oR)(),s=(0,d.I0)(),l=(0,c.useCallback)((e=>t(e.target.value)),[]),o=(0,c.useCallback)((e=>{const{cellsState:{cells_per_row:r}}=n.getState(),t=+e.currentTarget.value;r!==t&&(s((0,h.ce)(t)),s((0,_.QK)(!1)))}),[]);return(0,x.jsxs)("div",{children:[(0,x.jsx)("input",{className:v,id:"cells_per_row",type:"range",name:"cells_per_row",min:u.cq,max:u.eo,step:"1",value:r,onChange:l,onPointerUp:o}),(0,x.jsxs)("label",{htmlFor:"cells_per_row",children:[(0,x.jsx)("span",{children:"cells per row:"}),(0,x.jsx)("span",{children:r})]})]})};var p=t(720),g=t(754),j=t(769),f=t(149),y=t(854);const C=()=>{const e=(0,n.nA)();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(j.Z,{children:"New Art"}),(0,x.jsxs)(l.Z,{children:[(0,x.jsx)(i.Z,{}),(0,x.jsx)(p.Z,{})]}),(0,x.jsxs)(s.Z,{children:[(0,x.jsx)(m,{}),(0,x.jsx)(g.Z,{}),(0,x.jsxs)("div",{children:[(0,x.jsx)(a.Z,{}),y.ZC?(0,x.jsx)(o.Z,{}):null]})]}),e?(0,x.jsx)(f.Z,{type:e.ok?"success":"error",text:e.text}):null]})}}}]);
//# sourceMappingURL=484.81455d61.chunk.js.map